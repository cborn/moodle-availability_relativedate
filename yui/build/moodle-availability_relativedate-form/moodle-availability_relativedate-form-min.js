YUI.add("moodle-availability_relativedate-form",function(e,t){M.availability_relativedate=M.availability_relativedate||{},M.availability_relativedate.form=e.Object(M.core_availability.plugin),M.availability_relativedate.form.relativedates=null,M.availability_relativedate.form.initInner=function(e,t,n,r){this.timeFields=e,this.startFields=t,this.isSection=n,this.warningStrings=r},M.availability_relativedate.form.getNode=function(t){var n='<span class="availability-relativedate">',r,i=0;for(i=0;i<this.warningStrings.length;i++)n+='<div class="alert alert-warning alert-block fade in " role="alert">'+this.warningStrings[i]+"</div>";n+='<label><select name="relativenumber">';for(i=1;i<52;i++)n+='<option value="'+i+'">'+i+"</option>";n+="</select></label> ",n+='<label><select name="relativednw">';for(i=0;i<this.timeFields.length;i++)r=this.timeFields[i],n+='<option value="'+r.field+'">'+r.display+"</option>";n+="</select></label> ",n+='<label><select name="relativestart">';for(i=0;i<this.startFields.length;i++)r=this.startFields[i],n+='<option value="'+r.field+'">'+r.display+"</option>";n+="</select></label>",n+=" <label>"+M.util.get_string("short","availability_relativedate"),n+=' <input type="checkbox" class="form-check-input m-x-1" name="rshort"/></label>',n+="</span>";var s=e.Node.create("<span>"+n+"</span>");i=1,t.n!==undefined&&(i=t.n),s.one("select[name=relativenumber]").set("value",i),i=2,t.d!==undefined&&(i=t.d),s.one("select[name=relativednw]").set("value",i),i=1,t.s!==undefined&&(i=t.s),s.one("select[name=relativestart]").set("value",i);var o=!1;t.e!==0&&(o=!0),s.one("input[name=rshort]").set("checked",o);if(!M.availability_relativedate.form.addedEvents){M.availability_relativedate.form.addedEvents=!0;var u=e.one(".availability-field");u.delegate("change",function(){M.core_availability.form.update()},".availability_relativedate select")}return s},M.availability_relativedate.form.fillValue=function(e,t){e.n=t.one("select[name=relativenumber]").get("value"),e.d=t.one("select[name=relativednw]").get("value"),e.s=t.one("select[name=relativestart]").get("value"),t.one("input[name=rshort]").get("checked")?e.e=1:e.e=0},M.availability_relativedate.form.fillErrors=function(e,t){var n={};this.fillValue(n,t)}},"@VERSION@",{requires:["base","node","event","moodle-core_availability-form"]});
