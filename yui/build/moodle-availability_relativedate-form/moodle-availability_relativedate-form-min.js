YUI.add("moodle-availability_relativedate-form",function(e,t){M.availability_relativedate=M.availability_relativedate||{},M.availability_relativedate.form=e.Object(M.core_availability.plugin),M.availability_relativedate.form.relativedates=null,M.availability_relativedate.form.initInner=function(e,t){this.timeFields=e,this.startFields=t},M.availability_relativedate.form.getNode=function(t){var n='<span class="availability-relativedate"><label><select name="relativenumber">',r=0,i;for(r=1;r<52;r++)n+='<option value="'+r+'">'+r+"</option>";n+="</select></label> ",n+='<label><select name="relativednw">';for(r=0;r<this.timeFields.length;r++)i=this.timeFields[r],n+='<option value="'+i.field+'">'+i.display+"</option>";n+="</select></label> ",n+='<label><select name="relativestart">';for(r=0;r<this.startFields.length;r++)i=this.startFields[r],n+='<option value="'+i.field+'">'+i.display+"</option>";n+="</select></label>",n+="</span>";var s=e.Node.create("<span>"+n+"</span>"),o=1;t.n!==undefined&&(o=t.n),s.one("select[name=relativenumber]").set("value",o);var u=2;t.d!==undefined&&(u=t.d),s.one("select[name=relativednw]").set("value",u);var a=1;t.s!==undefined&&(a=t.s),s.one("select[name=relativestart]").set("value",a);if(!M.availability_relativedate.form.addedEvents){M.availability_relativedate.form.addedEvents=!0;var f=e.one(".availability-field");f.delegate("change",function(){M.core_availability.form.update()},".availability_relativedate select")}return s},M.availability_relativedate.form.fillValue=function(e,t){e.n=t.one("select[name=relativenumber]").get("value"),e.d=t.one("select[name=relativednw]").get("value"),e.s=t.one("select[name=relativestart]").get("value")},M.availability_relativedate.form.fillErrors=function(e,t){var n={};this.fillValue(n,t)}},"@VERSION@",{requires:["base","node","event","moodle-core_availability-form"]});
