YUI.add("moodle-availability_relativedate-form",function(e,t){M.availability_relativedate=M.availability_relativedate||{},M.availability_relativedate.form=e.Object(M.core_availability.plugin),M.availability_relativedate.form.relativedates=null,M.availability_relativedate.form.initInner=function(e,t){this.timeFields=e,this.startFields=t},M.availability_relativedate.form.getNode=function(t){var n=M.str.availability_relativedate,r='<span class="availability-relativedate"><label><select name="relativenumber">';for(var i=1;i<52;i++)r+='<option value="'+i+'">'+i+"</option>";r+="</select></label> ",r+='<label><select name="relativednw">';for(var i=0;i<this.timeFields.length;i++)fieldInfo=this.timeFields[i],r+='<option value="'+fieldInfo.field+'">'+fieldInfo.display+"</option>";r+="</select></label> ",r+='<label><select name="relativestart">';for(var i=0;i<this.startFields.length;i++)fieldInfo=this.startFields[i],r+='<option value="'+fieldInfo.field+'">'+fieldInfo.display+"</option>";r+="</select></label>",r+="</span>";var s=e.Node.create("<span>"+r+"</span>"),o=1;t.n!==undefined&&(o=t.n),s.one("select[name=relativenumber]").set("value",o);var u=2;t.d!==undefined&&(u=t.d),s.one("select[name=relativednw]").set("value",u);var a=1;t.s!==undefined&&(a=t.s),s.one("select[name=relativestart]").set("value",a);if(!M.availability_relativedate.form.addedEvents){M.availability_relativedate.form.addedEvents=!0;var f=e.one(".availability-field");f.delegate("change",function(){M.core_availability.form.update()},".availability_relativedate select")}return s},M.availability_relativedate.form.fillValue=function(e,t){e.n=parseInt(t.one("select[name=relativenumber]").get("value")),e.d=parseInt(t.one("select[name=relativednw]").get("value")),e.s=parseInt(t.one("select[name=relativestart]").get("value"))},M.availability_relativedate.form.fillErrors=function(e,t){var n={};this.fillValue(n,t)}},"@VERSION@",{requires:["base","node","event","moodle-core_availability-form"]});
